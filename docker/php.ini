[PHP]

; -----------------------------------------------------------------------------
; Resource Allocation & Limits
; -----------------------------------------------------------------------------

; Maximum size for a single uploaded file.
;
; This limit is enforced at the PHP application layer. You must ensure your
; ingress controller or web server (Caddy) is configured with a matching limit.
; - Caddy:  Use the 'request_body { max_size 100MB }' directive.
; - Nginx:  Use 'client_max_body_size 100M'.
; Failure to align these will result in HTTP 413 (Entity Too Large) errors
; occurring at the proxy level before the request reaches PHP.
upload_max_filesize = 100M

; Maximum amount of memory a script may consume
memory_limit = 512M

; -----------------------------------------------------------------------------
; Opcache Configuration
; -----------------------------------------------------------------------------
[opcache]
opcache.enable=1
opcache.revalidate_freq=0
opcache.validate_timestamps=1
opcache.max_accelerated_files=10000
opcache.memory_consumption=192
opcache.max_wasted_percentage=10
opcache.interned_strings_buffer=16
opcache.fast_shutdown=1

; Maximum size of the entire POST body (files + metadata).
;
; This value must be greater than or equal to 'upload_max_filesize'.
; If post_max_size is smaller than the uploaded file, the POST request will be
; silently truncated, resulting in empty $_FILES arrays and data loss without
; clear error messages.
post_max_size = 100M

; -----------------------------------------------------------------------------
; Environment & Configuration (12-Factor App Standard)
; -----------------------------------------------------------------------------

; Determines the parsing order for superglobals:
; (E)nvironment, (G)et, (P)ost, (C)ookie, (S)erver.
;
; Standard production PHP often disables 'E' for micro-optimizations.
; In containerized environments (Docker/Kubernetes), configuration is injected
; strictly via Environment Variables. We explicitly enable 'E' to ensure
; $_ENV is populated, allowing Laravel's config loaders to function correctly.
variables_order = EGPCS

; -----------------------------------------------------------------------------
; Quality Assurance / Coverage
; -----------------------------------------------------------------------------

; Configuration for PCOV (Performance Code Coverage).
; We restrict analysis to the current working directory ('.') to prevent the
; coverage driver from analyzing vendor libraries or system files. This
; significantly speeds up test suites in CI/CD pipelines.
pcov.directory = .

; -----------------------------------------------------------------------------
; Security Posture
; -----------------------------------------------------------------------------

; Header Suppression: "X-Powered-By: PHP/x.x.x"
;
; COMPLIANCE REQUIREMENT (SOC2 / PCI-DSS):
; Removing version banners prevents automated reconnaissance tools from
; fingerprinting the specific runtime version to target known CVEs.
expose_php = Off
